# Configuration Guide for YoloV6 & YoloV7

This guide provides a brief instruction for configuring YoloV6 and YoloV7 models within the **Vitis-AI 2.5** environment. You will need to prepare the `.xmodel` file, generated by the Vitis AI compiler, along with the necessary configuration files (`.prototxt`).

## File Structure

Ensure your model directory, named as MODEL_NAME/, includes the following files for either YoloV6 or YoloV7 models: 

```
MODEL_NAME/
├── MODEL_NAME.prototxt
├── MODEL_NAME_.prototxt
└── MODEL_NAME.xmodel
```


## Configuration Details

### Two .prototxt files for configuring YoloV6 & YoloV7

Please split the configuration into two `.prototxt` files for both YoloV6 and YoloV7 models when working in the Vitis-AI 2.5 environment. These files are:

1. **MODEL_NAME.prototxt**: This file specifies the **mean** and **scale** values for the DPU task.

   Example (`pt_yolov7/pt_yolov7.prototxt`):
   ```prototxt
   model {
       kernel {
           mean: 0.0
           mean: 0.0
           mean: 0.0
           scale: 0.00392156
           scale: 0.00392156
           scale: 0.00392156
       }
   }

2. **MODEL_NAME_.prototxt** (Note the underscore after MODEL_NAME): This file includes specific model parameters such as model_type, yolo_v6_param / yolo_v7_param. 

   Example (`pt_yolov7/pt_yolov7_.prototxt`):
   ```prototxt
    model {
        model_type:YOLOv7
        yolo_v7_param {
            num_classes: 80
            detect_layer_name: "ModuleList_0"   
            detect_layer_name: "ModuleList_1"  
            detect_layer_name: "ModuleList_2"  
            conf_thresh: 0.5
            nms_threshold: 0.65
            biases: 12
            biases: 16
            biases: 19
            biases: 36
            biases: 40 
            biases: 28
            biases: 36
            biases: 75
            biases: 76
            biases: 55 
            biases: 72
            biases: 146
            biases: 142
            biases: 110
            biases: 192
            biases: 243
            biases: 459 
            biases: 401
        }
    }


### xmodel file

Ensure to include the `.xmodel` file, generated by the Vitis AI compiler, in your model directory. For comprehensive information on model optimization, quantization, and compilation in Vitis-AI, please refer to the [Vitis AI User Guide](https://docs.xilinx.com/r/en-US/ug1414-vitis-ai).